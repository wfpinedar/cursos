<!doctype html>
<html lang="en">

<head>
        <title>Seguridad en Phoenix - Mis cursos</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        
        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../../../assets/css/darcula-highlight.min.css">

        <link rel="stylesheet" href="../../../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../../assets/css/dracula-ui.min.css">
        <link rel="stylesheet" href="../../../assets/css/mkdocs.min.css">

        
            <link  rel="icon" type="image/x-icon" href="../../../assets/img/favicon.ico">
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
                <script>hljs.initHighlightingOnLoad();</script>

</head>

<body class="drac-bg-black-secondary drac-text-grey-ternary drac-text drac-scrollbar-purple">

    <main class="d-flex">

        <!-- block sidebar -->
            <nav id="sidebar" class="sidebar drac-bg-black">
    <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
            <i class="fa fa-bars"></i>
            <span class="sr-only">Menu</span>
        </button>
    </div>

    <div class="p-4">
        

        <div class="drac-text-center">
            
                <span class="drac-text drac-line-height drac-text-white">Mis cursos</span>
            
        </div>

        <div class="drac-box flex-column">
            <ul class="dot-ul">
                <li><div class="dot-li drac-bg-cyan"></div></li>
                <li><div class="dot-li drac-bg-green"></div></li>
                <li><div class="dot-li drac-bg-orange"></div></li>
                <li><div class="dot-li drac-bg-pink"></div></li>
                <li><div class="dot-li drac-bg-purple"></div></li>
                <li><div class="dot-li drac-bg-red"></div></li>
                <li><div class="dot-li drac-bg-yellow"></div></li>
            </ul>
        </div>

        <hr class="drac-divider" />

        <!-- block menu -->
        <ul class="mb-5 drac-list drac-list-none">
            
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Introducción
                </a>
            </li>
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#clojure-collapse" aria-expanded="false">
                    Clojure
                </a>
                <div class="collapse" id="clojure-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Introducción
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/Junior/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Junior
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/mid/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Middle
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/senior/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Senior
        </a>
    </li>
                    </ul>
                </div>
            </li>
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#elixir-collapse" aria-expanded="false">
                    Elixir
                </a>
                <div class="collapse" id="elixir-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../../../elixir/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Introducción
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../elixir/jr/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Junior
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../elixir/mid/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Middle
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../elixir/sr/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Senior
        </a>
    </li>
                    </ul>
                </div>
            </li>
        </ul>
        <!-- endblock -->
    </div>
</nav>
        <!-- endblock -->

        <nav class="divider drac-bg-purple-cyan"></nav>

        <div class="content">
            <!-- block header -->
                <header>
    <nav class="navbar navbar-expand-xl drac-bg-purple">
        <div class="container-fluid">
            
            <button class="navbar-toggler w-100 text-center" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
                aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
                <ul class="navbar-nav text-md-center">

                    <!-- block preview -->
                    <li class="nav-item">
                            
                    </li>
                    <!--  endblock -->

                    <!-- block search -->
                    <li class="nav-item"><div role="search" class="search-box">
	<form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
		<input type="text" name="q" class="drac-input drac-input-search drac-input-white drac-text-white drac-bg-black-secondary"
		placeholder="Search docs" title="Type search term here" />
	</form>
</div>
                    </li>
                    <!--  endblock -->

                    <!-- block source -->
                    <li class="nav-item">
                        
                            
                        
                    </li>
                    <!--  endblock -->

                </ul>
            </div>

        </div>
    </nav>
</header>
            <!-- endblock -->

            <!-- block content -->
                <section class="p-md-5 section-content">
    <article>
        <p><h1 id="seguridad-en-phoenix">Seguridad en Phoenix<a class="headerlink" href="#seguridad-en-phoenix" title="Permanent link">&para;</a></h1>
<h2 id="introduccion">Introducción<a class="headerlink" href="#introduccion" title="Permanent link">&para;</a></h2>
<p>La seguridad es un aspecto fundamental en cualquier aplicación web, ya que la información y los datos de los usuarios deben ser protegidos contra posibles ataques y vulnerabilidades. En el caso de las aplicaciones desarrolladas con Phoenix Framework, es importante conocer y aplicar medidas de seguridad para proteger nuestra aplicación y los datos que maneja. En esta lección, aprenderemos sobre las principales vulnerabilidades a las que se enfrentan las aplicaciones Phoenix y cómo podemos asegurarlas.</p>
<h2 id="teoria">Teoría<a class="headerlink" href="#teoria" title="Permanent link">&para;</a></h2>
<p>Las aplicaciones Phoenix están construidas con el lenguaje de programación Elixir, que está basado en el paradigma de programación funcional. Esto significa que la seguridad es un aspecto inherente al código, ya que el lenguaje está diseñado para evitar errores y prevenir vulnerabilidades. Sin embargo, aún es necesario aplicar medidas de seguridad adicionales para proteger nuestra aplicación contra posibles ataques.</p>
<h2 id="palabras-clave-y-definiciones">Palabras clave y definiciones<a class="headerlink" href="#palabras-clave-y-definiciones" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>XSS (Cross-Site Scripting)</strong>: Es una vulnerabilidad que permite a un atacante insertar código malicioso en una página web, el cual se ejecutará en el navegador del usuario que acceda a dicha página.</li>
<li><strong>CSRF (Cross-Site Request Forgery)</strong>: Es un tipo de ataque en el que un usuario legítimo de una aplicación web realiza acciones no deseadas sin su conocimiento, debido a que un sitio malicioso le envía solicitudes falsas utilizando su sesión activa en la aplicación.</li>
<li><strong>Token</strong>: Es una cadena de caracteres aleatoria que se utiliza para validar la autenticidad de una solicitud. Se pueden implementar tokens para proteger contra ataques CSRF.</li>
<li><strong>Autenticación</strong>: Es el proceso de identificar a los usuarios de una aplicación y verificar que tienen los permisos adecuados para acceder a ciertas funciones o recursos.</li>
<li><strong>Autorización</strong>: Es el proceso de otorgar o denegar acceso a ciertos recursos o funciones a un usuario autenticado.</li>
</ul>
<h2 id="preguntas-de-repaso">Preguntas de repaso<a class="headerlink" href="#preguntas-de-repaso" title="Permanent link">&para;</a></h2>
<ol>
<li>¿Qué es XSS y cómo puede afectar a una aplicación Phoenix?</li>
<li>¿Cuál es la diferencia entre autenticación y autorización?</li>
<li>¿Qué es un token y cómo puede ayudar a proteger una aplicación contra ataques CSRF?</li>
</ol>
<h2 id="ejemplos-de-codigo">Ejemplos de código<a class="headerlink" href="#ejemplos-de-codigo" title="Permanent link">&para;</a></h2>
<h3 id="proteccion-contra-xss">Protección contra XSS<a class="headerlink" href="#proteccion-contra-xss" title="Permanent link">&para;</a></h3>
<p>En Phoenix, podemos utilizar la función <code>html_escape/1</code> para escapar cualquier código HTML insertado por el usuario en nuestros templates. Por ejemplo:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;h1&gt;</span><span class="cp">&lt;%=</span><span class="w"> </span><span class="n">html_escape</span><span class="p">(</span><span class="vi">@title</span><span class="p">)</span><span class="w"> </span><span class="cp">%&gt;</span><span class="nt">&lt;/h1&gt;</span>
</code></pre></div>

<p>Esto asegura que cualquier código malicioso insertado por el usuario no se ejecute y se muestre como texto plano en lugar de ser interpretado como HTML.</p>
<h3 id="proteccion-contra-csrf">Protección contra CSRF<a class="headerlink" href="#proteccion-contra-csrf" title="Permanent link">&para;</a></h3>
<p>Para proteger nuestra aplicación contra ataques CSRF, podemos utilizar tokens en nuestros formularios. En el controlador, podemos generar un token aleatorio y pasarlo al template a través de la función <code>get_csrf_token/0</code>:</p>
<div class="codehilite"><pre><span></span><code>def index(conn, _params) do
  render(conn, &quot;index.html&quot;, csrf_token: get_csrf_token())
end
</code></pre></div>

<p>Luego, en el template, podemos incluir el token en nuestro formulario:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">&lt;form</span><span class="w"> </span><span class="na">action=</span><span class="s">&quot;/users&quot;</span><span class="w"> </span><span class="na">method=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;input</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;hidden&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;_csrf_token&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;</span><span class="cp">&lt;%=</span><span class="w"> </span><span class="vi">@csrf_token</span><span class="w"> </span><span class="cp">%&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span>...
<span class="nt">&lt;/form&gt;</span>
</code></pre></div>

<p>En el controlador, podemos verificar que el token recibido en la solicitud sea el mismo que el que generamos previamente:</p>
<div class="codehilite"><pre><span></span><code><span class="n">def</span><span class="w"> </span><span class="n">create</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="o">%</span><span class="p">{</span><span class="s">&quot;user&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">user_params</span><span class="p">})</span><span class="w"> </span><span class="n">do</span>
<span class="w">  </span><span class="kr">case</span><span class="w"> </span><span class="n">Plug</span><span class="p">.</span><span class="n">CSRFProtection</span><span class="p">.</span><span class="n">verify_token</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="n">user_params</span><span class="p">[</span><span class="s">&quot;_csrf_token&quot;</span><span class="p">])</span><span class="w"> </span><span class="n">do</span>
<span class="w">    </span><span class="p">{</span><span class="o">:</span><span class="n">ok</span><span class="p">,</span><span class="w"> </span><span class="n">conn</span><span class="p">}</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">      </span><span class="err">#</span><span class="w"> </span><span class="kt">Token</span><span class="w"> </span><span class="n">válido</span><span class="p">,</span><span class="w"> </span><span class="n">procesar</span><span class="w"> </span><span class="n">la</span><span class="w"> </span><span class="n">solicitud</span>
<span class="w">    </span><span class="p">{</span><span class="o">:</span><span class="nf">error</span><span class="p">,</span><span class="w"> </span><span class="n">conn</span><span class="p">}</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">      </span><span class="err">#</span><span class="w"> </span><span class="kt">Token</span><span class="w"> </span><span class="n">inválido</span><span class="p">,</span><span class="w"> </span><span class="n">mostrar</span><span class="w"> </span><span class="n">un</span><span class="w"> </span><span class="nf">error</span><span class="w"> </span><span class="n">o</span><span class="w"> </span><span class="n">redirigir</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">una</span><span class="w"> </span><span class="n">página</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="nf">error</span>
<span class="w">  </span><span class="kd">end</span>
<span class="kd">end</span>
</code></pre></div>

<h2 id="ejercicios-practicos">Ejercicios prácticos<a class="headerlink" href="#ejercicios-practicos" title="Permanent link">&para;</a></h2>
<ol>
<li>Implementar la protección contra XSS en un template de tu aplicación Phoenix.</li>
<li>Crear un formulario que utilice tokens para protegerse contra ataques CSRF.</li>
<li>Investigar y utilizar algún paquete de seguridad específico para aplicaciones Phoenix, como Guardian o Coherence.</li>
</ol>
<h2 id="consejos-y-mejores-practicas">Consejos y mejores prácticas<a class="headerlink" href="#consejos-y-mejores-practicas" title="Permanent link">&para;</a></h2>
<ul>
<li>Utilizar la función <code>html_escape/1</code> en todos los templates para escapar cualquier código HTML insertado por el usuario.</li>
<li>Implementar autenticación y autorización adecuadas para limitar el acceso a ciertas funciones o recursos.</li>
<li>Utilizar tokens en formularios para proteger contra ataques CSRF.</li>
<li>Mantener la aplicación y sus dependencias actualizadas para evitar posibles vulnerabilidades conocidas.</li>
<li>Realizar pruebas de seguridad periódicas para identificar y corregir posibles vulnerabilidades en la aplicación.</li>
</ul></p>
    </article>
</section>
            <!-- endblock -->

            <!-- block footer -->
                <footer>
    <div class="d-flex flex-sm-row justify-content-between py-2 border-top drac-text-black drac-bg-cyan-green">
        <a href="https://github.com/dracula/mkdocs" target="_blank" style="padding-left: 1%;"
            class="footer-text drac-anchor drac-text-black drac-text-purple--hover">
            Made with Dracula Theme for MkDocs
        </a>
    </div>
</footer>
            <!-- endblock -->
        </div>

    </main>

        <script>var base_url = '../../..';</script>
        <script src="../../../assets/js/jquery-3.3.1.slim.min.js"></script>
        <script src="../../../assets/js/bootstrap.bundle.min.js"></script>
        <script src="../../../assets/js/mkdocs.js"></script>
			<script src="../../../search/main.js" defer></script>

</body>

</html>