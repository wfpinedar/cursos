<!doctype html>
<html lang="en">

<head>
        <title>APIs en Phoenix - Mis cursos</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        
        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../../../assets/css/darcula-highlight.min.css">

        <link rel="stylesheet" href="../../../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../../assets/css/dracula-ui.min.css">
        <link rel="stylesheet" href="../../../assets/css/mkdocs.min.css">

        
            <link  rel="icon" type="image/x-icon" href="../../../assets/img/favicon.ico">
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
                <script>hljs.initHighlightingOnLoad();</script>

</head>

<body class="drac-bg-black-secondary drac-text-grey-ternary drac-text drac-scrollbar-purple">

    <main class="d-flex">

        <!-- block sidebar -->
            <nav id="sidebar" class="sidebar drac-bg-black">
    <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
            <i class="fa fa-bars"></i>
            <span class="sr-only">Menu</span>
        </button>
    </div>

    <div class="p-4">
        

        <div class="drac-text-center">
            
                <span class="drac-text drac-line-height drac-text-white">Mis cursos</span>
            
        </div>

        <div class="drac-box flex-column">
            <ul class="dot-ul">
                <li><div class="dot-li drac-bg-cyan"></div></li>
                <li><div class="dot-li drac-bg-green"></div></li>
                <li><div class="dot-li drac-bg-orange"></div></li>
                <li><div class="dot-li drac-bg-pink"></div></li>
                <li><div class="dot-li drac-bg-purple"></div></li>
                <li><div class="dot-li drac-bg-red"></div></li>
                <li><div class="dot-li drac-bg-yellow"></div></li>
            </ul>
        </div>

        <hr class="drac-divider" />

        <!-- block menu -->
        <ul class="mb-5 drac-list drac-list-none">
            
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Introducción
                </a>
            </li>
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#clojure-collapse" aria-expanded="false">
                    Clojure
                </a>
                <div class="collapse" id="clojure-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Introducción
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/Junior/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Junior
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/mid/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Middle
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/senior/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Senior
        </a>
    </li>
                    </ul>
                </div>
            </li>
        </ul>
        <!-- endblock -->
    </div>
</nav>
        <!-- endblock -->

        <nav class="divider drac-bg-purple-cyan"></nav>

        <div class="content">
            <!-- block header -->
                <header>
    <nav class="navbar navbar-expand-xl drac-bg-purple">
        <div class="container-fluid">
            
            <button class="navbar-toggler w-100 text-center" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
                aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
                <ul class="navbar-nav text-md-center">

                    <!-- block preview -->
                    <li class="nav-item">
                            
                    </li>
                    <!--  endblock -->

                    <!-- block search -->
                    <li class="nav-item"><div role="search" class="search-box">
	<form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
		<input type="text" name="q" class="drac-input drac-input-search drac-input-white drac-text-white drac-bg-black-secondary"
		placeholder="Search docs" title="Type search term here" />
	</form>
</div>
                    </li>
                    <!--  endblock -->

                    <!-- block source -->
                    <li class="nav-item">
                        
                            
                        
                    </li>
                    <!--  endblock -->

                </ul>
            </div>

        </div>
    </nav>
</header>
            <!-- endblock -->

            <!-- block content -->
                <section class="p-md-5 section-content">
    <article>
        <p><h1 id="apis-en-phoenix">APIs en Phoenix<a class="headerlink" href="#apis-en-phoenix" title="Permanent link">&para;</a></h1>
<h2 id="descripcion-del-modulo">Descripción del módulo<a class="headerlink" href="#descripcion-del-modulo" title="Permanent link">&para;</a></h2>
<p>En este módulo aprenderás a crear y documentar APIs en Phoenix Framework. Las APIs son interfaces de programación de aplicaciones que permiten la comunicación entre diferentes aplicaciones y sistemas. Con Phoenix, podemos crear APIs robustas y escalables que pueden ser utilizadas por aplicaciones web, móviles y otras plataformas.</p>
<h2 id="explicacion-teorica">Explicación teórica<a class="headerlink" href="#explicacion-teorica" title="Permanent link">&para;</a></h2>
<p>Phoenix es un framework web escrito en el lenguaje de programación Elixir, el cual está basado en la arquitectura de patrón de diseño MVC (Modelo-Vista-Controlador). Sin embargo, también nos permite crear APIs utilizando el patrón de diseño de arquitectura REST (Representational State Transfer). REST es un estilo de arquitectura para sistemas distribuidos que se basa en el protocolo de transferencia de hipertexto (HTTP). Esto significa que nuestras APIs en Phoenix se basarán en los métodos HTTP como GET, POST, PUT y DELETE para realizar diferentes operaciones en nuestros datos.</p>
<h2 id="palabras-clave-y-su-definicion">Palabras clave y su definición<a class="headerlink" href="#palabras-clave-y-su-definicion" title="Permanent link">&para;</a></h2>
<ul>
<li>API: Interfaz de programación de aplicaciones que permite la comunicación entre diferentes aplicaciones y sistemas.</li>
<li>Phoenix: Framework web escrito en Elixir que utiliza el patrón de diseño MVC y REST para crear aplicaciones y APIs.</li>
<li>Swagger: Herramienta para documentar APIs de forma interactiva y visualmente atractiva.</li>
<li>ExDoc: Herramienta para generar documentación de código en formato HTML.</li>
</ul>
<h2 id="preguntas-de-repaso">Preguntas de repaso<a class="headerlink" href="#preguntas-de-repaso" title="Permanent link">&para;</a></h2>
<ol>
<li>¿Qué es una API y para qué se utiliza?</li>
<li>¿Cuál es el patrón de diseño utilizado en Phoenix para crear APIs?</li>
<li>¿Qué métodos HTTP se utilizan en REST?</li>
<li>¿Qué es Swagger y para qué se utiliza?</li>
<li>¿Qué es ExDoc y para qué se utiliza?</li>
</ol>
<h2 id="ejemplos-de-codigo-en-phoenix-framework">Ejemplos de código en Phoenix Framework<a class="headerlink" href="#ejemplos-de-codigo-en-phoenix-framework" title="Permanent link">&para;</a></h2>
<h3 id="crear-un-recurso-para-nuestra-api">Crear un recurso para nuestra API<a class="headerlink" href="#crear-un-recurso-para-nuestra-api" title="Permanent link">&para;</a></h3>
<p>Para crear un recurso en nuestra API, primero debemos definir una ruta en nuestro archivo <code>router.ex</code> que apunte al controlador correspondiente. Por ejemplo:</p>
<div class="codehilite"><pre><span></span><code>defmodule MyApp.Router do
  use MyApp.Web, :router

  scope &quot;/api&quot;, MyApp do
    pipe_through :api

    resources &quot;/users&quot;, UserController
  end
end
</code></pre></div>

<p>Luego, en nuestro controlador <code>user_controller.ex</code>, definiremos las acciones correspondientes a cada verbo HTTP:</p>
<div class="codehilite"><pre><span></span><code>defmodule MyApp.UserController do
  use MyApp.Web, :controller

  def index(conn, _params) do
    # código para obtener todos los usuarios
  end

  def show(conn, %{&quot;id&quot; =&gt; id}) do
    # código para obtener un usuario específico
  end

  def create(conn, %{&quot;user&quot; =&gt; user_params}) do
    # código para crear un nuevo usuario
  end

  def update(conn, %{&quot;id&quot; =&gt; id, &quot;user&quot; =&gt; user_params}) do
    # código para actualizar un usuario existente
  end

  def delete(conn, %{&quot;id&quot; =&gt; id}) do
    # código para eliminar un usuario existente
  end
end
</code></pre></div>

<h3 id="autenticacion-en-nuestra-api">Autenticación en nuestra API<a class="headerlink" href="#autenticacion-en-nuestra-api" title="Permanent link">&para;</a></h3>
<p>Para autenticar nuestras peticiones a la API, podemos utilizar el módulo <code>Phoenix.Token</code> para generar tokens que nos permitan verificar la identidad de los usuarios. Por ejemplo:</p>
<div class="codehilite"><pre><span></span><code><span class="n">defmodule</span><span class="w"> </span><span class="nn">MyApp</span><span class="p">.</span><span class="n">UserController</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="k">use</span><span class="w"> </span><span class="nn">MyApp</span><span class="p">.</span><span class="n">Web</span><span class="o">,</span><span class="w"> </span><span class="o">:</span><span class="n">controller</span>

<span class="w">  </span><span class="o">#</span><span class="w"> </span><span class="n">otras</span><span class="w"> </span><span class="n">acciones</span>

<span class="w">  </span><span class="n">def</span><span class="w"> </span><span class="n">login</span><span class="o">(</span><span class="n">conn</span><span class="o">,</span><span class="w"> </span><span class="o">%{</span><span class="s">&quot;email&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">email</span><span class="o">,</span><span class="w"> </span><span class="s">&quot;password&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">password</span><span class="o">})</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="o">#</span><span class="w"> </span><span class="n">código</span><span class="w"> </span><span class="n">para</span><span class="w"> </span><span class="n">autenticar</span><span class="w"> </span><span class="n">al</span><span class="w"> </span><span class="n">usuario</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="n">generar</span><span class="w"> </span><span class="n">un</span><span class="w"> </span><span class="n">token</span>
<span class="w">    </span><span class="n">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nn">Phoenix</span><span class="p">.</span><span class="nn">Token</span><span class="p">.</span><span class="n">sign</span><span class="o">(</span><span class="nn">MyApp</span><span class="p">.</span><span class="n">Endpoint</span><span class="o">,</span><span class="w"> </span><span class="s">&quot;user&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="o">)</span>
<span class="w">    </span><span class="n">conn</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">put_status</span><span class="o">(:</span><span class="n">ok</span><span class="o">)</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">put_resp_header</span><span class="o">(</span><span class="s">&quot;authorization&quot;</span><span class="o">,</span><span class="w"> </span><span class="s">&quot;Bearer #{token}&quot;</span><span class="o">)</span>
<span class="w">    </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">render</span><span class="o">(</span><span class="s">&quot;login.json&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">user</span><span class="o">:</span><span class="w"> </span><span class="n">user</span><span class="o">)</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="ejercicios-practicos">Ejercicios prácticos<a class="headerlink" href="#ejercicios-practicos" title="Permanent link">&para;</a></h2>
<ol>
<li>Crea una API en Phoenix que permita realizar operaciones CRUD (crear, leer, actualizar y eliminar) en una lista de tareas.</li>
<li>Añade autenticación a tu API utilizando tokens generados con <code>Phoenix.Token</code>.</li>
<li>Documenta tu API utilizando Swagger.</li>
</ol>
<h2 id="consejos-o-mejores-practicas">Consejos o mejores prácticas<a class="headerlink" href="#consejos-o-mejores-practicas" title="Permanent link">&para;</a></h2>
<ul>
<li>Utiliza el patrón de diseño REST para crear una API consistente y fácil de entender.</li>
<li>Utiliza el módulo <code>Phoenix.Token</code> para añadir autenticación a tu API.</li>
<li>Documenta tu API utilizando herramientas como Swagger y ExDoc para una mejor comprensión y uso por parte de otros desarrolladores.</li>
</ul></p>
    </article>
</section>
            <!-- endblock -->

            <!-- block footer -->
                <footer>
    <div class="d-flex flex-sm-row justify-content-between py-2 border-top drac-text-black drac-bg-cyan-green">
        <a href="https://github.com/dracula/mkdocs" target="_blank" style="padding-left: 1%;"
            class="footer-text drac-anchor drac-text-black drac-text-purple--hover">
            Made with Dracula Theme for MkDocs
        </a>
    </div>
</footer>
            <!-- endblock -->
        </div>

    </main>

        <script>var base_url = '../../..';</script>
        <script src="../../../assets/js/jquery-3.3.1.slim.min.js"></script>
        <script src="../../../assets/js/bootstrap.bundle.min.js"></script>
        <script src="../../../assets/js/mkdocs.js"></script>
			<script src="../../../search/main.js" defer></script>

</body>

</html>