<!doctype html>
<html lang="en">

<head>
        <title>Concurrencia - Mis cursos</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        
        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../../../assets/css/darcula-highlight.min.css">

        <link rel="stylesheet" href="../../../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../../assets/css/dracula-ui.min.css">
        <link rel="stylesheet" href="../../../assets/css/mkdocs.min.css">

        
            <link  rel="icon" type="image/x-icon" href="../../../assets/img/favicon.ico">
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
                <script>hljs.initHighlightingOnLoad();</script>

</head>

<body class="drac-bg-black-secondary drac-text-grey-ternary drac-text drac-scrollbar-purple">

    <main class="d-flex">

        <!-- block sidebar -->
            <nav id="sidebar" class="sidebar drac-bg-black">
    <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
            <i class="fa fa-bars"></i>
            <span class="sr-only">Menu</span>
        </button>
    </div>

    <div class="p-4">
        

        <div class="drac-text-center">
            
                <span class="drac-text drac-line-height drac-text-white">Mis cursos</span>
            
        </div>

        <div class="drac-box flex-column">
            <ul class="dot-ul">
                <li><div class="dot-li drac-bg-cyan"></div></li>
                <li><div class="dot-li drac-bg-green"></div></li>
                <li><div class="dot-li drac-bg-orange"></div></li>
                <li><div class="dot-li drac-bg-pink"></div></li>
                <li><div class="dot-li drac-bg-purple"></div></li>
                <li><div class="dot-li drac-bg-red"></div></li>
                <li><div class="dot-li drac-bg-yellow"></div></li>
            </ul>
        </div>

        <hr class="drac-divider" />

        <!-- block menu -->
        <ul class="mb-5 drac-list drac-list-none">
            
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Introducción
                </a>
            </li>
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#clojure-collapse" aria-expanded="false">
                    Clojure
                </a>
                <div class="collapse" id="clojure-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Introducción
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/Junior/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Junior
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/mid/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Middle
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/senior/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Senior
        </a>
    </li>
                    </ul>
                </div>
            </li>
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#elixir-collapse" aria-expanded="false">
                    Elixir
                </a>
                <div class="collapse" id="elixir-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../../../elixir/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Introducción
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../elixir/jr/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Junior
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../elixir/mid/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Middle
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../elixir/sr/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Senior
        </a>
    </li>
                    </ul>
                </div>
            </li>
        </ul>
        <!-- endblock -->
    </div>
</nav>
        <!-- endblock -->

        <nav class="divider drac-bg-purple-cyan"></nav>

        <div class="content">
            <!-- block header -->
                <header>
    <nav class="navbar navbar-expand-xl drac-bg-purple">
        <div class="container-fluid">
            
            <button class="navbar-toggler w-100 text-center" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
                aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
                <ul class="navbar-nav text-md-center">

                    <!-- block preview -->
                    <li class="nav-item">
                            
                    </li>
                    <!--  endblock -->

                    <!-- block search -->
                    <li class="nav-item"><div role="search" class="search-box">
	<form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
		<input type="text" name="q" class="drac-input drac-input-search drac-input-white drac-text-white drac-bg-black-secondary"
		placeholder="Search docs" title="Type search term here" />
	</form>
</div>
                    </li>
                    <!--  endblock -->

                    <!-- block source -->
                    <li class="nav-item">
                        
                            
                        
                    </li>
                    <!--  endblock -->

                </ul>
            </div>

        </div>
    </nav>
</header>
            <!-- endblock -->

            <!-- block content -->
                <section class="p-md-5 section-content">
    <article>
        <p><h1 id="concurrencia">Concurrencia<a class="headerlink" href="#concurrencia" title="Permanent link">&para;</a></h1>
<p>La concurrencia es un enfoque de programación que permite que varias tareas se ejecuten de forma simultánea en un programa. En lugar de ejecutar una tarea a la vez, la concurrencia permite que varias tareas se ejecuten de manera intercalada, lo que puede mejorar significativamente el rendimiento y la eficiencia de un programa. En Go lang, la concurrencia se logra utilizando goroutines y canales.</p>
<h2 id="palabras-clave">Palabras clave<a class="headerlink" href="#palabras-clave" title="Permanent link">&para;</a></h2>
<ul>
<li>Goroutine: Una goroutine es una función que se ejecuta de forma independiente en el programa.</li>
<li>Canal: Un canal es una estructura de datos que permite la comunicación entre goroutines.</li>
<li>Sincronización: La sincronización es el proceso de asegurar que las goroutines se ejecuten en el orden correcto y evitando posibles conflictos en el acceso a datos compartidos.</li>
<li>Planificación: La planificación es el proceso de asignar tiempo de ejecución a cada goroutine activa en el programa.</li>
<li>WaitGroup: Un WaitGroup es una estructura de datos que permite a una goroutine esperar a que otras goroutines finalicen su ejecución.</li>
<li>Mutex: Un Mutex es un mecanismo de sincronización que se utiliza para controlar el acceso a datos compartidos entre goroutines.</li>
<li>Select: El select es una estructura de control que permite a una goroutine esperar la llegada de datos en varios canales.</li>
</ul>
<h2 id="preguntas-de-repaso">Preguntas de repaso<a class="headerlink" href="#preguntas-de-repaso" title="Permanent link">&para;</a></h2>
<ol>
<li>¿Qué es la concurrencia y por qué es importante en la programación?</li>
<li>¿Cuál es la diferencia entre una goroutine y una función normal?</li>
<li>¿Qué es un canal y cómo se utiliza en la concurrencia?</li>
<li>¿Qué es la sincronización y por qué es necesaria en la concurrencia?</li>
<li>¿Cómo se evitan posibles conflictos en el acceso a datos compartidos entre goroutines?</li>
<li>¿Qué es un WaitGroup y cómo se utiliza en la concurrencia?</li>
<li>¿Qué es un Mutex y en qué casos se utiliza?</li>
<li>¿Qué es el select y cuál es su función en la concurrencia?</li>
<li>¿Cuáles son algunas mejores prácticas para el uso de la concurrencia en Go lang?</li>
<li>¿Cómo se puede medir el rendimiento de un programa que utiliza concurrencia?</li>
</ol>
<h2 id="ejemplos-de-codigo">Ejemplos de código<a class="headerlink" href="#ejemplos-de-codigo" title="Permanent link">&para;</a></h2>
<h3 id="goroutines">Goroutines<a class="headerlink" href="#goroutines" title="Permanent link">&para;</a></h3>
<p>Una goroutine se crea agregando la palabra clave "go" antes de llamar a una función:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">go</span><span class="w"> </span><span class="nx">imprimir</span><span class="p">(</span><span class="s">&quot;Hola&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">imprimir</span><span class="p">(</span><span class="s">&quot;Mundo&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">imprimir</span><span class="p">(</span><span class="nx">texto</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">texto</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p>Este código creará dos goroutines, una para imprimir "Hola" y otra para imprimir "Mundo". Como las goroutines se ejecutan de forma independiente, el orden en que se imprimen los textos puede variar en cada ejecución del programa.</p>
<h3 id="canales">Canales<a class="headerlink" href="#canales" title="Permanent link">&para;</a></h3>
<p>Los canales se utilizan para la comunicación entre goroutines. En el siguiente ejemplo, una goroutine envía un mensaje a través de un canal y otra goroutine lo recibe:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">canal</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">chan</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span>
<span class="w">    </span><span class="k">go</span><span class="w"> </span><span class="nx">enviarMensaje</span><span class="p">(</span><span class="nx">canal</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hola&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">mensaje</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&lt;-</span><span class="nx">canal</span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">mensaje</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">enviarMensaje</span><span class="p">(</span><span class="nx">canal</span><span class="w"> </span><span class="kd">chan</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">mensaje</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">canal</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nx">mensaje</span>
<span class="p">}</span>
</code></pre></div>

<p>El operador "&lt;-" se utiliza para enviar y recibir datos a través de un canal. En este ejemplo, la goroutine enviarMensaje envía el mensaje "Hola" al canal y la goroutine principal lo recibe y lo imprime.</p>
<h3 id="waitgroup">WaitGroup<a class="headerlink" href="#waitgroup" title="Permanent link">&para;</a></h3>
<p>Un WaitGroup se utiliza para esperar a que varias goroutines finalicen su ejecución antes de continuar con la ejecución del programa. En el siguiente ejemplo, se utilizan dos goroutines y un WaitGroup para imprimir un mensaje solo después de que ambas goroutines hayan finalizado su ejecución:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">wg</span><span class="w"> </span><span class="nx">sync</span><span class="p">.</span><span class="nx">WaitGroup</span>
<span class="w">    </span><span class="nx">wg</span><span class="p">.</span><span class="nx">Add</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="k">go</span><span class="w"> </span><span class="nx">imprimir</span><span class="p">(</span><span class="s">&quot;Hola&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">wg</span><span class="p">)</span>
<span class="w">    </span><span class="k">go</span><span class="w"> </span><span class="nx">imprimir</span><span class="p">(</span><span class="s">&quot;Mundo&quot;</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="nx">wg</span><span class="p">)</span>
<span class="w">    </span><span class="nx">wg</span><span class="p">.</span><span class="nx">Wait</span><span class="p">()</span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Fin del programa&quot;</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">imprimir</span><span class="p">(</span><span class="nx">texto</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">wg</span><span class="w"> </span><span class="o">*</span><span class="nx">sync</span><span class="p">.</span><span class="nx">WaitGroup</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">defer</span><span class="w"> </span><span class="nx">wg</span><span class="p">.</span><span class="nx">Done</span><span class="p">()</span>
<span class="w">    </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">texto</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>

<p>La función sync.WaitGroup permite a una goroutine esperar a que otras goroutines finalicen su ejecución mediante el método Wait(). El método Add() se utiliza para indicar cuántas goroutines deben finalizar antes de continuar.</p>
<h3 id="mutex">Mutex<a class="headerlink" href="#mutex" title="Permanent link">&para;</a></h3>
<p>Los Mutex se utilizan para controlar el acceso a datos compartidos entre goroutines. En el siguiente ejemplo, se utiliza un Mutex para evitar posibles conflictos en el acceso a una variable compartida:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">var</span><span class="w"> </span><span class="nx">contador</span><span class="w"> </span><span class="kt">int</span>
<span class="kd">var</span><span class="w"> </span><span class="nx">mutex</span><span class="w"> </span><span class="nx">sync</span><span class="p">.</span><span class="nx">Mutex</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">incrementar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">mutex</span><span class="p">.</span><span class="nx">Lock</span><span class="p">()</span>
<span class="w">    </span><span class="nx">contador</span><span class="o">++</span>
<span class="w">    </span><span class="nx">mutex</span><span class="p">.</span><span class="nx">Unlock</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div>

<p>La función Lock() se utiliza para bloquear el acceso a la variable compartida mientras se está modificando, y el método Unlock() se utiliza para desbloquearla después de su modificación.</p>
<h3 id="select">Select<a class="headerlink" href="#select" title="Permanent link">&para;</a></h3>
<p>El select se utiliza para esperar la llegada de datos en varios canales. En el siguiente ejemplo, se utiliza un select para imprimir un mensaje solo cuando se reciba un dato en cualquiera de los canales especificados:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">func</span><span class="w"> </span><span class="nx">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">canal1</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">chan</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span>
<span class="w">    </span><span class="nx">canal2</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="nb">make</span><span class="p">(</span><span class="kd">chan</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span>
<span class="w">    </span><span class="k">go</span><span class="w"> </span><span class="nx">enviarMensaje</span><span class="p">(</span><span class="nx">canal1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hola&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">go</span><span class="w"> </span><span class="nx">enviarMensaje</span><span class="p">(</span><span class="nx">canal2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Mundo&quot;</span><span class="p">)</span>
<span class="w">    </span><span class="k">select</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nx">mensaje1</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&lt;-</span><span class="nx">canal1</span><span class="p">:</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">mensaje1</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nx">mensaje2</span><span class="w"> </span><span class="o">:=</span><span class="w"> </span><span class="o">&lt;-</span><span class="nx">canal2</span><span class="p">:</span>
<span class="w">        </span><span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">mensaje2</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span><span class="w"> </span><span class="nx">enviarMensaje</span><span class="p">(</span><span class="nx">canal</span><span class="w"> </span><span class="kd">chan</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">mensaje</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">canal</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nx">mensaje</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="ejercicios-practicos">Ejercicios prácticos<a class="headerlink" href="#ejercicios-practicos" title="Permanent link">&para;</a></h2>
<ol>
<li>Crea un programa que genere 10 goroutines y cada una imprima un número del 1 al 10.</li>
<li>Modifica el programa anterior para que las goroutines impriman los números en orden aleatorio.</li>
<li>Crea un programa que genere dos goroutines, una que genere números aleatorios y los envíe a través de un canal, y otra que reciba los números y los imprima en pantalla.</li>
<li>Modifica el programa anterior para que la goroutine que recibe los números termine cuando reciba un número mayor a 100.</li>
<li>Crea un programa que utilice un WaitGroup para imprimir un mensaje solo después de que se hayan completado 5 goroutines.</li>
<li>Modifica el programa anterior para que el mensaje se imprima después de que se completen un número especificado de goroutines.</li>
<li>Crea un programa que utilice un Mutex para controlar el acceso a una variable compartida y que incremente su valor en cada iteración de un bucle en una goroutine.</li>
<li>Modifica el programa anterior para que utilice dos goroutines que incrementen el valor en 100 y 200, y comprueba que el resultado final es correcto mediante el uso de un Mutex.</li>
<li>Crea un programa que utilice un select para imprimir un mensaje solo cuando se reciba un dato en cualquiera de los canales especificados.</li>
<li>Modifica el programa anterior para que se utilicen tres canales y se imprima un mensaje solo cuando se reciban datos en todos ellos.</li>
</ol>
<h2 id="consejos-y-mejores-practicas">Consejos y mejores prácticas<a class="headerlink" href="#consejos-y-mejores-practicas" title="Permanent link">&para;</a></h2>
<ul>
<li>Utiliza goroutines y canales solo cuando sea necesario. No es recomendable utilizar concurrencia para tareas simples o que se puedan resolver de forma secuencial.</li>
<li>Planifica y sincroniza cuidadosamente las goroutines para evitar posibles conflictos en el acceso a datos compartidos.</li>
<li>Utiliza estructuras de datos como WaitGroup y Mutex para controlar la ejecución y el acceso a datos compartidos entre goroutines.</li>
<li>Utiliza el select para esperar la llegada de datos en varios canales en lugar de usar un bucle infinito con sentencias de recepción.</li>
<li>Utiliza la función runtime.GOMAXPROCS() para especificar el número máximo de procesadores que se pueden utilizar para ejecutar goroutines. Esto puede mejorar el rendimiento en sistemas con múltiples procesadores.</li>
<li>Realiza pruebas exhaustivas para asegurarte de que la concurrencia no afecte el funcionamiento correcto de tu programa.</li>
<li>Ten en cuenta que la concurrencia no siempre mejora el rendimiento de un programa y puede incluso empeorarlo en algunos casos. Evalúa cuidadosamente si la concurrencia es necesaria antes de implementarla.</li>
</ul></p>
    </article>
</section>
            <!-- endblock -->

            <!-- block footer -->
                <footer>
    <div class="d-flex flex-sm-row justify-content-between py-2 border-top drac-text-black drac-bg-cyan-green">
        <a href="https://github.com/dracula/mkdocs" target="_blank" style="padding-left: 1%;"
            class="footer-text drac-anchor drac-text-black drac-text-purple--hover">
            Made with Dracula Theme for MkDocs
        </a>
    </div>
</footer>
            <!-- endblock -->
        </div>

    </main>

        <script>var base_url = '../../..';</script>
        <script src="../../../assets/js/jquery-3.3.1.slim.min.js"></script>
        <script src="../../../assets/js/bootstrap.bundle.min.js"></script>
        <script src="../../../assets/js/mkdocs.js"></script>
			<script src="../../../search/main.js" defer></script>

</body>

</html>