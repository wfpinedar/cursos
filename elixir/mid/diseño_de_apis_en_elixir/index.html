<!doctype html>
<html lang="en">

<head>
        <title>Diseño de APIs en Elixir - Mis cursos</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        
        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../../../assets/css/darcula-highlight.min.css">

        <link rel="stylesheet" href="../../../assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="../../../assets/css/dracula-ui.min.css">
        <link rel="stylesheet" href="../../../assets/css/mkdocs.min.css">

        
            <link  rel="icon" type="image/x-icon" href="../../../assets/img/favicon.ico">
        
            <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
                <script>hljs.initHighlightingOnLoad();</script>

</head>

<body class="drac-bg-black-secondary drac-text-grey-ternary drac-text drac-scrollbar-purple">

    <main class="d-flex">

        <!-- block sidebar -->
            <nav id="sidebar" class="sidebar drac-bg-black">
    <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
            <i class="fa fa-bars"></i>
            <span class="sr-only">Menu</span>
        </button>
    </div>

    <div class="p-4">
        

        <div class="drac-text-center">
            
                <span class="drac-text drac-line-height drac-text-white">Mis cursos</span>
            
        </div>

        <div class="drac-box flex-column">
            <ul class="dot-ul">
                <li><div class="dot-li drac-bg-cyan"></div></li>
                <li><div class="dot-li drac-bg-green"></div></li>
                <li><div class="dot-li drac-bg-orange"></div></li>
                <li><div class="dot-li drac-bg-pink"></div></li>
                <li><div class="dot-li drac-bg-purple"></div></li>
                <li><div class="dot-li drac-bg-red"></div></li>
                <li><div class="dot-li drac-bg-yellow"></div></li>
            </ul>
        </div>

        <hr class="drac-divider" />

        <!-- block menu -->
        <ul class="mb-5 drac-list drac-list-none">
            
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
                    Introducción
                </a>
            </li>
            <li class="drac-box">
                <a href="../../.."
                    class="
                    drac-anchor btn-toggle d-inline-flex align-items-center border-0 drac-text-purple--hover collapsed"
                    data-bs-toggle="collapse" data-bs-target="#clojure-collapse" aria-expanded="false">
                    Clojure
                </a>
                <div class="collapse" id="clojure-collapse">
                    <ul class="mb-5 drac-list drac-list-none">
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Introducción
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/Junior/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Junior
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/mid/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Middle
        </a>
    </li>
                            
    <li class="drac-box-ternary">
        <a href="../../../clojure/senior/"
            class="
            drac-anchor d-inline-flex align-items-center border-0 drac-text-purple--hover">
            Nivel Senior
        </a>
    </li>
                    </ul>
                </div>
            </li>
        </ul>
        <!-- endblock -->
    </div>
</nav>
        <!-- endblock -->

        <nav class="divider drac-bg-purple-cyan"></nav>

        <div class="content">
            <!-- block header -->
                <header>
    <nav class="navbar navbar-expand-xl drac-bg-purple">
        <div class="container-fluid">
            
            <button class="navbar-toggler w-100 text-center" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
                aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
                <ul class="navbar-nav text-md-center">

                    <!-- block preview -->
                    <li class="nav-item">
                            
                    </li>
                    <!--  endblock -->

                    <!-- block search -->
                    <li class="nav-item"><div role="search" class="search-box">
	<form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
		<input type="text" name="q" class="drac-input drac-input-search drac-input-white drac-text-white drac-bg-black-secondary"
		placeholder="Search docs" title="Type search term here" />
	</form>
</div>
                    </li>
                    <!--  endblock -->

                    <!-- block source -->
                    <li class="nav-item">
                        
                            
                        
                    </li>
                    <!--  endblock -->

                </ul>
            </div>

        </div>
    </nav>
</header>
            <!-- endblock -->

            <!-- block content -->
                <section class="p-md-5 section-content">
    <article>
        <p><h1 id="diseno-de-apis-en-elixir">Diseño de APIs en Elixir<a class="headerlink" href="#diseno-de-apis-en-elixir" title="Permanent link">&para;</a></h1>
<h2 id="explicacion-teorica">Explicación teórica<a class="headerlink" href="#explicacion-teorica" title="Permanent link">&para;</a></h2>
<p>Una API (Application Programming Interface) es una interfaz de programación que permite la comunicación entre diferentes aplicaciones o sistemas. En el contexto de Elixir, una API se refiere a una interfaz que permite la comunicación entre el código escrito en Elixir y otras aplicaciones o servicios.</p>
<p>El diseño de APIs en Elixir se basa en el uso del framework Phoenix, que es una herramienta poderosa para construir aplicaciones web y APIs RESTful. Las APIs RESTful (Representational State Transfer) son un estilo de arquitectura de software que se basa en los principios fundamentales de HTTP, como el uso de los verbos GET, POST, PUT y DELETE para manipular recursos.</p>
<p>El enfoque de diseño de APIs en Elixir se basa en la simplicidad, escalabilidad y robustez. Elixir es un lenguaje funcional que se ejecuta en la máquina virtual de Erlang, lo que le brinda una gran capacidad de concurrencia y tolerancia a fallos. Esto lo convierte en una excelente opción para construir APIs que deben manejar grandes cantidades de solicitudes y ser resilientes a errores y caídas del sistema.</p>
<h2 id="palabras-clave-y-su-definicion">Palabras clave y su definición<a class="headerlink" href="#palabras-clave-y-su-definicion" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>API:</strong> Interfaz de programación que permite la comunicación entre diferentes aplicaciones o sistemas.</li>
<li><strong>Elixir:</strong> Lenguaje de programación funcional que se ejecuta en la máquina virtual de Erlang.</li>
<li><strong>Phoenix:</strong> Framework de Elixir para construir aplicaciones web y APIs RESTful.</li>
<li><strong>REST:</strong> Estilo de arquitectura de software basado en los principios de HTTP.</li>
<li><strong>HTTP:</strong> Protocolo de transferencia de hipertexto, utilizado para la comunicación entre servidores y clientes en la web.</li>
<li><strong>Verbos HTTP:</strong> GET, POST, PUT y DELETE, utilizados para indicar la acción que se desea realizar sobre un recurso.</li>
<li><strong>Recursos:</strong> Elementos que se pueden manipular mediante una API RESTful, como por ejemplo usuarios, productos o publicaciones.</li>
<li><strong>Concurrencia:</strong> Capacidad de un sistema para ejecutar múltiples tareas al mismo tiempo.</li>
<li><strong>Tolerancia a fallos:</strong> Capacidad de un sistema para continuar funcionando a pesar de errores o caídas en el sistema.</li>
</ul>
<h2 id="preguntas-de-repaso">Preguntas de repaso<a class="headerlink" href="#preguntas-de-repaso" title="Permanent link">&para;</a></h2>
<ol>
<li>¿Qué es una API y para qué se utiliza?</li>
<li>¿Cuáles son los principios fundamentales de HTTP?</li>
<li>¿Qué es Phoenix y por qué se utiliza en el diseño de APIs en Elixir?</li>
<li>¿En qué se basa el enfoque de diseño de APIs en Elixir?</li>
<li>¿Qué es la concurrencia y por qué es importante en el diseño de APIs?</li>
<li>¿Qué es la tolerancia a fallos y por qué es importante en el diseño de APIs?</li>
</ol>
<h2 id="ejemplos-de-codigo-en-elixir">Ejemplos de código en Elixir<a class="headerlink" href="#ejemplos-de-codigo-en-elixir" title="Permanent link">&para;</a></h2>
<p>A continuación, se muestra un ejemplo de código en Elixir para crear una API RESTful utilizando Phoenix:</p>
<div class="codehilite"><pre><span></span><code><span class="kd">defmodule</span><span class="w"> </span><span class="nc">MyApp.UserController</span><span class="w"> </span><span class="k">do</span>
<span class="w">  </span><span class="kn">use</span><span class="w"> </span><span class="nc">Phoenix.Controller</span>

<span class="w">  </span><span class="c1"># Acción para obtener todos los usuarios</span>
<span class="w">  </span><span class="kd">def</span><span class="w"> </span><span class="n">index</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="n">_params</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="n">users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MyApp.Repo</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="nc">MyApp.User</span><span class="p">)</span>
<span class="w">    </span><span class="n">render</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;index.json&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">users</span><span class="p">:</span><span class="w"> </span><span class="n">users</span><span class="p">)</span>
<span class="w">  </span><span class="k">end</span>

<span class="w">  </span><span class="c1"># Acción para crear un nuevo usuario</span>
<span class="w">  </span><span class="kd">def</span><span class="w"> </span><span class="n">create</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="p">%{</span><span class="s2">&quot;user&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">user_params</span><span class="p">})</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="n">changeset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MyApp.User</span><span class="o">.</span><span class="n">changeset</span><span class="p">(%</span><span class="nc">MyApp.User</span><span class="p">{},</span><span class="w"> </span><span class="n">user_params</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nc">MyApp.Repo</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">changeset</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">      </span><span class="p">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">}</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">        </span><span class="n">conn</span>
<span class="w">        </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">put_status</span><span class="p">(</span><span class="ss">:created</span><span class="p">)</span>
<span class="w">        </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">put_resp_header</span><span class="p">(</span><span class="s2">&quot;location&quot;</span><span class="p">,</span><span class="w"> </span><span class="nc">Routes</span><span class="o">.</span><span class="n">user_path</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="ss">:show</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">))</span>
<span class="w">        </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;show.json&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">user</span><span class="p">:</span><span class="w"> </span><span class="n">user</span><span class="p">)</span>
<span class="w">      </span><span class="p">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="n">changeset</span><span class="p">}</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">        </span><span class="n">conn</span>
<span class="w">        </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">put_status</span><span class="p">(</span><span class="ss">:unprocessable_entity</span><span class="p">)</span>
<span class="w">        </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;error.json&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">changeset</span><span class="p">:</span><span class="w"> </span><span class="n">changeset</span><span class="p">)</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">  </span><span class="k">end</span>

<span class="w">  </span><span class="c1"># Acción para obtener un usuario específico</span>
<span class="w">  </span><span class="kd">def</span><span class="w"> </span><span class="n">show</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="p">%{</span><span class="s2">&quot;id&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">id</span><span class="p">})</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MyApp.Repo</span><span class="o">.</span><span class="n">get!</span><span class="p">(</span><span class="nc">MyApp.User</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">)</span>
<span class="w">    </span><span class="n">render</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;show.json&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">user</span><span class="p">:</span><span class="w"> </span><span class="n">user</span><span class="p">)</span>
<span class="w">  </span><span class="k">end</span>

<span class="w">  </span><span class="c1"># Acción para actualizar un usuario</span>
<span class="w">  </span><span class="kd">def</span><span class="w"> </span><span class="n">update</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="p">%{</span><span class="s2">&quot;id&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">user_params</span><span class="p">})</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MyApp.Repo</span><span class="o">.</span><span class="n">get!</span><span class="p">(</span><span class="nc">MyApp.User</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">)</span>
<span class="w">    </span><span class="n">changeset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MyApp.User</span><span class="o">.</span><span class="n">changeset</span><span class="p">(</span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="n">user_params</span><span class="p">)</span>
<span class="w">    </span><span class="k">case</span><span class="w"> </span><span class="nc">MyApp.Repo</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">changeset</span><span class="p">)</span><span class="w"> </span><span class="k">do</span>
<span class="w">      </span><span class="p">{</span><span class="ss">:ok</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">}</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">        </span><span class="n">render</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;show.json&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">user</span><span class="p">:</span><span class="w"> </span><span class="n">user</span><span class="p">)</span>
<span class="w">      </span><span class="p">{</span><span class="ss">:error</span><span class="p">,</span><span class="w"> </span><span class="n">changeset</span><span class="p">}</span><span class="w"> </span><span class="o">-&gt;</span>
<span class="w">        </span><span class="n">conn</span>
<span class="w">        </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">put_status</span><span class="p">(</span><span class="ss">:unprocessable_entity</span><span class="p">)</span>
<span class="w">        </span><span class="o">|&gt;</span><span class="w"> </span><span class="n">render</span><span class="p">(</span><span class="s2">&quot;error.json&quot;</span><span class="p">,</span><span class="w"> </span><span class="ss">changeset</span><span class="p">:</span><span class="w"> </span><span class="n">changeset</span><span class="p">)</span>
<span class="w">    </span><span class="k">end</span>
<span class="w">  </span><span class="k">end</span>

<span class="w">  </span><span class="c1"># Acción para eliminar un usuario</span>
<span class="w">  </span><span class="kd">def</span><span class="w"> </span><span class="n">delete</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="p">%{</span><span class="s2">&quot;id&quot;</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">id</span><span class="p">})</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span><span class="n">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">MyApp.Repo</span><span class="o">.</span><span class="n">get!</span><span class="p">(</span><span class="nc">MyApp.User</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="p">)</span>
<span class="w">    </span><span class="nc">MyApp.Repo</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>
<span class="w">    </span><span class="n">send_resp</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span><span class="w"> </span><span class="ss">:no_content</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="w">  </span><span class="k">end</span>
<span class="k">end</span>
</code></pre></div>

<h2 id="ejercicios-practicos-con-instrucciones-claras">Ejercicios prácticos con instrucciones claras<a class="headerlink" href="#ejercicios-practicos-con-instrucciones-claras" title="Permanent link">&para;</a></h2>
<ol>
<li>Crea un nuevo proyecto en Phoenix utilizando el comando <code>mix phx.new my_api</code>.</li>
<li>Agrega un modelo <code>Product</code> con los campos <code>name</code>, <code>price</code> y <code>description</code>.</li>
<li>Crea las migraciones para crear la tabla <code>products</code> en la base de datos.</li>
<li>Genera un controlador <code>ProductController</code> con las acciones <code>index</code>, <code>create</code>, <code>show</code>, <code>update</code> y <code>delete</code>.</li>
<li>Implementa la lógica en cada acción para manipular los recursos de la tabla <code>products</code>.</li>
<li>Realiza pruebas utilizando herramientas como Postman para asegurarte de que la API funciona correctamente.</li>
</ol>
<h2 id="consejos-o-mejores-practicas">Consejos o mejores prácticas<a class="headerlink" href="#consejos-o-mejores-practicas" title="Permanent link">&para;</a></h2>
<ul>
<li>Utiliza el principio de responsabilidad única para mantener tus controladores y modelos simples y fáciles de entender.</li>
<li>Utiliza los verbos HTTP adecuados para cada acción, siguiendo las convenciones de las APIs RESTful.</li>
<li>Utiliza el patrón de repositorio para encapsular la lógica de acceso a la base de datos en una capa separada.</li>
<li>Utiliza el enrutamiento basado en recursos para definir las rutas de tu API de forma clara y coherente.</li>
<li>Utiliza las pruebas automatizadas para garantizar que tu API funcione correctamente y maneje errores de manera adecuada.</li>
<li>Utiliza los módulos de autenticación y autorización de Phoenix para proteger tu API de accesos no autorizados.</li>
<li>Utiliza herramientas como Swagger para documentar tu API de forma clara y concisa.</li>
</ul></p>
    </article>
</section>
            <!-- endblock -->

            <!-- block footer -->
                <footer>
    <div class="d-flex flex-sm-row justify-content-between py-2 border-top drac-text-black drac-bg-cyan-green">
        <a href="https://github.com/dracula/mkdocs" target="_blank" style="padding-left: 1%;"
            class="footer-text drac-anchor drac-text-black drac-text-purple--hover">
            Made with Dracula Theme for MkDocs
        </a>
    </div>
</footer>
            <!-- endblock -->
        </div>

    </main>

        <script>var base_url = '../../..';</script>
        <script src="../../../assets/js/jquery-3.3.1.slim.min.js"></script>
        <script src="../../../assets/js/bootstrap.bundle.min.js"></script>
        <script src="../../../assets/js/mkdocs.js"></script>
			<script src="../../../search/main.js" defer></script>

</body>

</html>